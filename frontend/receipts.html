<!DOCTYPE html>
<html>
<head>
    <title>Receipt Page</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css">
    <script src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="scripts/receipts.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">ReceiptApp</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Receipts</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="groups.html">Groups</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Budget</a>
                </li>
            </ul>
            <button class="btn btn-outline-danger my-2 my-sm-0" type="submit">Logout</button>
        </div>
    </nav>
    <div class="container">
        <h2>Receipts</h2>
        <span>
            <button class="btn btn-primary" data-toggle="modal" data-target=".uploadReceiptModal">Upload Receipt</button>
        </span>
        <span class="d-flex justify-content-around mt-2">
            <div id="receipts-container">
                <table 
                    class="table table-bordered table-hover" 
                    id="receipts-table"
                    >
                    <thead>
                        <tr>
                            <th data-field="id">ID</th>
                            <th data-field="date" data-formatter="dateFormatter">Date</th>
                            <th data-field="total" data-formatter="priceFormatter">Total</th>
                            <th data-field="groupid" data-formatter="associatedGroupsFormatter">Group</th>
                            <th data-field="currency" data-visible="false">currency</th>
                            <th data-field="userid" data-visible="false" >userid</th>
                            <th data-field="selection" data-checkbox="true" class="d-none"></th>
                        </tr>
                    </thead>
                </table>
            </div>
            <div id="receipt-content">
                <table
                    class="table table-bordered table-hover"
                    id="receipt-content-table"
                    data-toggle="table"
                    >
                    <thead>
                        <tr>
                            <th data-field="id">ID</th>
                            <th data-field="itemName">Name</th>
                            <th data-field="price" data-formatter="priceFormatter">Price</th>
                            <th data-field="userid" data-visible="false">userid</th>
                            <th data-field="associatedUsers" data-formatter="associatedUsersFormatter">Associated Users</th>
                            <th data-field="receiptid" data-visible="false">receiptid</th>
                        </tr>
                    </thead>
            </div>
        </span>
    </div>
    <div class="modal uploadReceiptModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Upload Receipt</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <select id="uploadReceiptGroup" class="form-control mb-2">
                </select>
                <span>
                    <input type="file" id="receiptFile" name="receiptFile" accept="image/*">
                    <input type="button" class="btn btn-primary" value="Upload" onclick="uploadReceipt()" id="uploadReceiptButton">
                    <span id="uploadReceiptSpinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                </span>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    
</body>
</html>
